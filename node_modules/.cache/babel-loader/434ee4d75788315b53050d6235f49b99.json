{"ast":null,"code":"var _jsxFileName = \"/Users/batson24/Desktop/Date_Site/frontend/src/Components/Speed.jsx\";\nimport React, { useEffect, useState, useRef } from 'react'; // import './App.css';\n\nimport io from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport styled from \"styled-components\";\nconst Container = styled.div`\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\nconst Row = styled.div`\n  display: flex;\n  width: 100%;\n`;\nconst Video = styled.video`\n  border: 1px solid blue;\n  width: 50%;\n  height: 50%;\n`;\nexport default class Speed extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"social-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-xs-12 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"view\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-behance fa-3x\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 41\n      }\n    }, \"Behance\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 41\n      }\n    }, function Socketpeer() {\n      const [yourID, setYourID] = useState(\"\");\n      const [users, setUsers] = useState({});\n      const [stream, setStream] = useState();\n      const [receivingCall, setReceivingCall] = useState(false);\n      const [caller, setCaller] = useState(\"\");\n      const [callerSignal, setCallerSignal] = useState();\n      const [callAccepted, setCallAccepted] = useState(false);\n      const userVideo = useRef();\n      const partnerVideo = useRef();\n      const socket = useRef();\n      useEffect(() => {\n        socket.current = io.connect(\"/\");\n        navigator.mediaDevices.getUserMedia({\n          video: true,\n          audio: true\n        }).then(stream => {\n          setStream(stream);\n\n          if (userVideo.current) {\n            userVideo.current.srcObject = stream;\n          }\n        });\n        socket.current.on(\"yourID\", id => {\n          setYourID(id);\n        });\n        socket.current.on(\"allUsers\", users => {\n          setUsers(users);\n        });\n        socket.current.on(\"hey\", data => {\n          setReceivingCall(true);\n          setCaller(data.from);\n          setCallerSignal(data.signal);\n        });\n      }, []);\n\n      function callPeer(id) {\n        const peer = new Peer({\n          initiator: true,\n          trickle: false,\n          config: {\n            iceServers: [{\n              urls: \"stun:numb.viagenie.ca\",\n              username: \"sultan1640@gmail.com\",\n              credential: \"98376683\"\n            }, {\n              urls: \"turn:numb.viagenie.ca\",\n              username: \"sultan1640@gmail.com\",\n              credential: \"98376683\"\n            }]\n          },\n          stream: stream\n        });\n        peer.on(\"signal\", data => {\n          socket.current.emit(\"callUser\", {\n            userToCall: id,\n            signalData: data,\n            from: yourID\n          });\n        });\n        peer.on(\"stream\", stream => {\n          if (partnerVideo.current) {\n            partnerVideo.current.srcObject = stream;\n          }\n        });\n        socket.current.on(\"callAccepted\", signal => {\n          setCallAccepted(true);\n          peer.signal(signal);\n        });\n      }\n\n      function acceptCall() {\n        setCallAccepted(true);\n        const peer = new Peer({\n          initiator: false,\n          trickle: false,\n          stream: stream\n        });\n        peer.on(\"signal\", data => {\n          socket.current.emit(\"acceptCall\", {\n            signal: data,\n            to: caller\n          });\n        });\n        peer.on(\"stream\", stream => {\n          partnerVideo.current.srcObject = stream;\n        });\n        peer.signal(callerSignal);\n      }\n\n      let UserVideo;\n\n      if (stream) {\n        UserVideo = /*#__PURE__*/React.createElement(Video, {\n          playsInline: true,\n          muted: true,\n          ref: userVideo,\n          autoPlay: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 7\n          }\n        });\n      }\n\n      let PartnerVideo;\n\n      if (callAccepted) {\n        PartnerVideo = /*#__PURE__*/React.createElement(Video, {\n          playsInline: true,\n          ref: partnerVideo,\n          autoPlay: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 7\n          }\n        });\n      }\n\n      let incomingCall;\n\n      if (receivingCall) {\n        incomingCall = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 9\n          }\n        }, caller, \" is calling you\"), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: acceptCall,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 9\n          }\n        }, \"Accept\"));\n      }\n\n      /*#__PURE__*/\n      React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 7\n        }\n      }, UserVideo, PartnerVideo), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 7\n        }\n      }, Object.keys(users).map(key => {\n        if (key === yourID) {\n          return null;\n        }\n\n        return /*#__PURE__*/React.createElement(\"button\", {\n          onClick: () => callPeer(key),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }\n        }, \"Call \", key);\n      })), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 7\n        }\n      }, incomingCall));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-15 col-xs-4  text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-twitter fa-3x\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 41\n      }\n    }, \"Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-xs-12 text-center\",\n      style: {\n        bacgroundColor: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"holder\",\n      style: {\n        bacgroundColor: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pinterest-p fa-3x\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 41\n      }\n    }, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-xs-12 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-facebook fa-3x\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 41\n      }\n    }, \"Facebook\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 41\n      }\n    }, \"Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 37\n      }\n    }))), \"  \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 37\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 43\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 54\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-xs-12 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-github fa-3x\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 41\n      }\n    }, \"Github\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 41\n      }\n    }, \"Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 37\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/batson24/Desktop/Date_Site/frontend/src/Components/Speed.jsx"],"names":["React","useEffect","useState","useRef","io","Peer","styled","Container","div","Row","Video","video","Speed","Component","render","Socketpeer","yourID","setYourID","users","setUsers","stream","setStream","receivingCall","setReceivingCall","caller","setCaller","callerSignal","setCallerSignal","callAccepted","setCallAccepted","userVideo","partnerVideo","socket","current","connect","navigator","mediaDevices","getUserMedia","audio","then","srcObject","on","id","data","from","signal","callPeer","peer","initiator","trickle","config","iceServers","urls","username","credential","emit","userToCall","signalData","acceptCall","to","UserVideo","PartnerVideo","incomingCall","Object","keys","map","key","bacgroundColor"],"mappings":"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","sourcesContent":["\nimport React, { useEffect, useState, useRef } from 'react';\n// import './App.css';\nimport io from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  width: 100%;\n`;\n\nconst Video = styled.video`\n  border: 1px solid blue;\n  width: 50%;\n  height: 50%;\n`;\n\n\n\n\n\nexport default class Speed extends Component {\n    render() {\n        return (\n            \n\n                \n                <div className=\"social-box\">\n                \n                     <div className=\"row1\">\n                         \n                            <div className=\"col-lg-4 col-xs-12 text-center\">\n                                <div className='view'>\n                                    <i className=\"fa fa-behance fa-3x\" aria-hidden=\"true\"></i>\n                                    <div className=\"box-title\">\n                                        <h3>Behance</h3>\n                                    </div>\n                                    <div className=\"box-text\">\n                                        <span> \n\n                                     {   function Socketpeer() {\n  const [yourID, setYourID] = useState(\"\");\n  const [users, setUsers] = useState({});\n  const [stream, setStream] = useState();\n  const [receivingCall, setReceivingCall] = useState(false);\n  const [caller, setCaller] = useState(\"\");\n  const [callerSignal, setCallerSignal] = useState();\n  const [callAccepted, setCallAccepted] = useState(false);\n\n  const userVideo = useRef();\n  const partnerVideo = useRef();\n  const socket = useRef();\n\n  useEffect(() => {\n    socket.current = io.connect(\"/\");\n    navigator.mediaDevices.getUserMedia({ video: true, audio: true }).then(stream => {\n      setStream(stream);\n      if (userVideo.current) {\n        userVideo.current.srcObject = stream;\n      }\n    })\n\n    socket.current.on(\"yourID\", (id) => {\n      setYourID(id);\n    })\n    socket.current.on(\"allUsers\", (users) => {\n      setUsers(users);\n    })\n\n    socket.current.on(\"hey\", (data) => {\n      setReceivingCall(true);\n      setCaller(data.from);\n      setCallerSignal(data.signal);\n    })\n  }, []);\n\n  function callPeer(id) {\n    const peer = new Peer({\n      initiator: true,\n      trickle: false,\n      config: {\n\n        iceServers: [\n            {\n                urls: \"stun:numb.viagenie.ca\",\n                username: \"sultan1640@gmail.com\",\n                credential: \"98376683\"\n            },\n            {\n                urls: \"turn:numb.viagenie.ca\",\n                username: \"sultan1640@gmail.com\",\n                credential: \"98376683\"\n            }\n        ]\n    },\n      stream: stream,\n    });\n\n    peer.on(\"signal\", data => {\n      socket.current.emit(\"callUser\", { userToCall: id, signalData: data, from: yourID })\n    })\n\n    peer.on(\"stream\", stream => {\n      if (partnerVideo.current) {\n        partnerVideo.current.srcObject = stream;\n      }\n    });\n\n    socket.current.on(\"callAccepted\", signal => {\n      setCallAccepted(true);\n      peer.signal(signal);\n    })\n\n  }\n\n  function acceptCall() {\n    setCallAccepted(true);\n    const peer = new Peer({\n      initiator: false,\n      trickle: false,\n      stream: stream,\n    });\n    peer.on(\"signal\", data => {\n      socket.current.emit(\"acceptCall\", { signal: data, to: caller })\n    })\n\n    peer.on(\"stream\", stream => {\n      partnerVideo.current.srcObject = stream;\n    });\n\n    peer.signal(callerSignal);\n  }\n\n  let UserVideo;\n  if (stream) {\n    UserVideo = (\n      <Video playsInline muted ref={userVideo} autoPlay />\n    );\n  }\n\n  let PartnerVideo;\n  if (callAccepted) {\n    PartnerVideo = (\n      <Video playsInline ref={partnerVideo} autoPlay />\n    );\n  }\n\n  let incomingCall;\n  if (receivingCall) {\n    incomingCall = (\n      <div>\n        <h1>{caller} is calling you</h1>\n        <button onClick={acceptCall}>Accept</button>\n      </div>\n    )\n  }\n                                        <Container>\n      <Row>\n        {UserVideo}\n        {PartnerVideo}\n      </Row>\n      <Row>\n        {Object.keys(users).map(key => {\n          if (key === yourID) {\n            return null;\n          }\n          return (\n            <button onClick={() => callPeer(key)}>Call {key}</button>\n          );\n        })}\n      </Row>\n      <Row>\n        {incomingCall}\n      </Row>\n    </Container>\n    }}\n        </span>\n                                    </div>\n                                    <div className=\"box-btn\">\n                                      \n                                    </div>\n                                 </div>\n                            </div>\t \n                            \n                             <div className=\"col-lg-15 col-xs-4  text-center\">\n                                <div className=\"box\">\n                                    <i className=\"fa fa-twitter fa-3x\" aria-hidden=\"true\"></i>\n                                    <div className=\"box-title\">\n                                        \n                                    </div>\n                                    <div className=\"box-text\">\n                                        <span>Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.</span>\n                                    </div>\n                                    <div className=\"box-btn\">\n                                    \n                                    </div>\n                                 </div>\n                            </div>\t \n                            </div>\n                             \n                                   \n                            {/* <h3><Socketpeer/></h3> */}\n                            <div className=\"row2\">\n                            <div className=\"col-lg-4 col-xs-12 text-center\" style={{bacgroundColor:'black'}}>\n                                <div className=\"holder\" style={{bacgroundColor:'black'}} >\n                                    <i className=\"fa fa-pinterest-p fa-3x\" aria-hidden=\"true\"></i>\n                                    <div className=\"box-title\">\n                                        <h3></h3>\n                                    </div>\n                                    <div className=\"box-text\">\n                                        <span> </span>\n\n                                  \n                                    </div>\n                                    <div className=\"box-btn\">\n                                      \n                                    </div>\n                                 </div>\n                            </div>\t \n                            </div>\n\n                            <div className=\"row3\">\n                            \n                             <div className=\"col-lg-4 col-xs-12 text-center\">\n                                <div className=\"box\">\n                                    <i className=\"fa fa-facebook fa-3x\" aria-hidden=\"true\"></i>\n                                    <div className=\"box-title\">\n                                        <h3>Facebook</h3>\n                                    </div>\n                                    <div className=\"box-text\">\n                                        <span>Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.</span>\n                                    </div>\n                                    <div className=\"box-btn\">\n                                      \n                                    </div>\n                                 </div>\n                            </div>\t <br/> <br/> <br/><br/>\n                           \n                            \n                             \n                            \n                             <div className=\"col-lg-4 col-xs-12 text-center\">\n                                <div className=\"box\">\n                                    <i className=\"fa fa-github fa-3x\" aria-hidden=\"true\"></i>\n                                    <div className=\"box-title\">\n                                        <h3>Github</h3>\n                                    </div>\n                                    <div className=\"box-text\">\n                                        <span>Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.</span>\n                                    </div>\n                                    <div className=\"box-btn\">\n                                       \n                                    </div>\n                                 </div>\n                            </div>\n                    \n                    \t\t\n                </div>\n            </div>\n   \n            \n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}
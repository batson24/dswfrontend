{"ast":null,"code":"var _jsxFileName = \"/Users/batson24/Desktop/Date_Site/frontend/src/Components/Finder.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from 'react-router-dom';\nimport { findPeople, follow } from './api-user.js';\nimport auth from './Components/authenticatior';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport ViewIcon from '@material-ui/icons/Visibility';\nconst useStyles = makeStyles(theme => ({\n  root: theme.mixins.gutters({\n    padding: theme.spacing(1),\n    margin: 0\n  }),\n  title: {\n    margin: `${theme.spacing(3)}px ${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    color: theme.palette.openTitle,\n    fontSize: '1em'\n  },\n  avatar: {\n    marginRight: theme.spacing(1)\n  },\n  follow: {\n    right: theme.spacing(2)\n  },\n  snack: {\n    color: theme.palette.protectedTitle\n  },\n  viewButton: {\n    verticalAlign: 'middle'\n  }\n}));\nexport default function FindPeople() {\n  const classes = useStyles();\n  const [values, setValues] = useState({\n    users: [],\n    open: false,\n    followMessage: ''\n  });\n  const jwt = auth.isAuthenticated();\n  useEffect(() => {\n    const abortController = new AbortController();\n    const signal = abortController.signal;\n    findPeople({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, signal).then(data => {\n      if (data && data.error) {\n        console.log(data.error);\n      } else {\n        setValues({ ...values,\n          users: data\n        });\n      }\n    });\n    return function cleanup() {\n      abortController.abort();\n    };\n  }, []);\n\n  const clickFollow = (user, index) => {\n    follow({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, user._id).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        let toFollow = values.users;\n        toFollow.splice(index, 1);\n        setValues({ ...values,\n          users: toFollow,\n          open: true,\n          followMessage: `Following ${user.name}!`\n        });\n      }\n    });\n  };\n\n  const handleRequestClose = (event, reason) => {\n    setValues({ ...values,\n      open: false\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.root,\n    elevation: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    type: \"title\",\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"Who to follow\"), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, values.users.map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n      className: classes.avatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      src: '/api/users/photo/' + item._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(ListItemSecondaryAction, {\n      className: classes.follow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/user/\" + item._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      variant: \"contained\",\n      color: \"secondary\",\n      className: classes.viewButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(ViewIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      \"aria-label\": \"Follow\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => {\n        clickFollow(item, i);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, \"Follow\"))));\n  }))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'right'\n    },\n    open: values.open,\n    onClose: handleRequestClose,\n    autoHideDuration: 6000,\n    message: /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.snack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 20\n      }\n    }, values.followMessage),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/batson24/Desktop/Date_Site/frontend/src/Components/Finder.jsx"],"names":["React","useState","useEffect","makeStyles","Paper","List","ListItem","ListItemAvatar","ListItemSecondaryAction","ListItemText","Avatar","Button","IconButton","Typography","Link","findPeople","follow","auth","Snackbar","ViewIcon","useStyles","theme","root","mixins","gutters","padding","spacing","margin","title","color","palette","openTitle","fontSize","avatar","marginRight","right","snack","protectedTitle","viewButton","verticalAlign","FindPeople","classes","values","setValues","users","open","followMessage","jwt","isAuthenticated","abortController","AbortController","signal","userId","user","_id","t","token","then","data","error","console","log","cleanup","abort","clickFollow","index","toFollow","splice","name","handleRequestClose","event","reason","map","item","i","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction' \nimport ListItemText from '@material-ui/core/ListItemText' \nimport Avatar from '@material-ui/core/Avatar'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport Typography from '@material-ui/core/Typography'\nimport {Link} from 'react-router-dom'\nimport {findPeople, follow} from './api-user.js'\nimport auth from './Components/authenticatior'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport ViewIcon from '@material-ui/icons/Visibility'\n\nconst useStyles = makeStyles(theme => ({\n  root: theme.mixins.gutters({\n    padding: theme.spacing(1),\n    margin: 0\n  }),\n  title: {\n    margin: `${theme.spacing(3)}px ${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    color: theme.palette.openTitle,\n    fontSize: '1em'\n  },\n  avatar: {\n    marginRight: theme.spacing(1)\n  },\n  follow: {\n    right: theme.spacing(2)\n  },\n  snack: {\n    color: theme.palette.protectedTitle\n  },\n  viewButton: {\n    verticalAlign: 'middle'\n  }\n}))\n\nexport default function FindPeople() {\n  const classes = useStyles()\n  const [values, setValues] = useState({\n    users: [],\n    open: false,\n    followMessage: ''\n  })\n  const jwt = auth.isAuthenticated()\n\n  useEffect(() => {\n    const abortController = new AbortController()\n    const signal = abortController.signal\n\n    findPeople({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, signal).then((data) => {\n      if (data && data.error) {\n        console.log(data.error)\n      } else {\n        setValues({...values, users:data})\n      }\n    })\n    return function cleanup(){\n      abortController.abort()\n    }\n\n  }, [])\n  const clickFollow = (user, index) => {\n    follow({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, user._id).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        let toFollow = values.users\n        toFollow.splice(index, 1)\n        setValues({...values, users: toFollow, open: true, followMessage: `Following ${user.name}!`})\n      }\n    })\n  }\n  const handleRequestClose = (event, reason) => {\n    setValues({...values, open: false })\n  }\n    return (<div>\n      <Paper className={classes.root} elevation={4}>\n        <Typography type=\"title\" className={classes.title}>\n          Who to follow\n        </Typography>\n        <List>\n          {values.users.map((item, i) => {\n              return <span key={i}>\n                <ListItem>\n                  <ListItemAvatar className={classes.avatar}>\n                      <Avatar src={'/api/users/photo/'+item._id}/>\n                  </ListItemAvatar>\n                  <ListItemText primary={item.name}/>\n                  <ListItemSecondaryAction className={classes.follow}>\n                    <Link to={\"/user/\" + item._id}>\n                      <IconButton variant=\"contained\" color=\"secondary\" className={classes.viewButton}>\n                        <ViewIcon/>\n                      </IconButton>\n                    </Link>\n                    <Button aria-label=\"Follow\" variant=\"contained\" color=\"primary\" onClick={()=> {clickFollow(item, i)}}>\n                      Follow\n                    </Button>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              </span>\n            })\n          }\n        </List>\n      </Paper>\n      <Snackbar\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          open={values.open}\n          onClose={handleRequestClose}\n          autoHideDuration={6000}\n          message={<span className={classes.snack}>{values.followMessage}</span>}\n      />\n    </div>)\n}"]},"metadata":{},"sourceType":"module"}
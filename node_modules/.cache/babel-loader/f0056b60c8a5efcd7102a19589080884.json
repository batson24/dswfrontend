{"ast":null,"code":"var _jsxFileName = \"/Users/batson24/Desktop/Date_Site/frontend/src/Routes/Room.js\";\nimport React, { useRef, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport Carousel from 'react-bootstrap/Carousel';\nimport { SRLWrapper } from \"simple-react-lightbox\";\nimport { StreamApp, NotificationDropdown, FlatFeed, Activity, LikeButton, CommentField, CommentList, StatusUpdateForm, Dropdown, Link, ActivityFooter, CommentItem } from 'react-activity-feed';\nimport Grid from '@material-ui/core/Grid';\n\nconst Room = props => {\n  const userVideo = useRef();\n  const partnerVideo = useRef();\n  const peerRef = useRef();\n  const socketRef = useRef();\n  const otherUser = useRef();\n  const userStream = useRef();\n  useEffect(() => {\n    navigator.mediaDevices.getUserMedia({\n      audio: true,\n      video: true\n    }).then(stream => {\n      userVideo.current.srcObject = stream;\n      userStream.current = stream;\n      socketRef.current = io.connect(\"/\");\n      socketRef.current.emit(\"join room\", props.match.params.roomID);\n      socketRef.current.on('other user', userID => {\n        callUser(userID);\n        otherUser.current = userID;\n      });\n      socketRef.current.on(\"user joined\", userID => {\n        otherUser.current = userID;\n      });\n      socketRef.current.on(\"offer\", handleRecieveCall);\n      socketRef.current.on(\"answer\", handleAnswer);\n      socketRef.current.on(\"ice-candidate\", handleNewICECandidateMsg);\n    });\n  }, []);\n\n  function callUser(userID) {\n    peerRef.current = createPeer(userID);\n    userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n  }\n\n  function createPeer(userID) {\n    const peer = new RTCPeerConnection({\n      iceServers: [{\n        urls: \"stun:stun.stunprotocol.org\"\n      }, {\n        urls: 'turn:numb.viagenie.ca',\n        credential: 'batson',\n        username: 'webrtc@live.com'\n      }]\n    });\n    peer.onicecandidate = handleICECandidateEvent;\n    peer.ontrack = handleTrackEvent;\n\n    peer.onnegotiationneeded = () => handleNegotiationNeededEvent(userID);\n\n    return peer;\n  }\n\n  function handleNegotiationNeededEvent(userID) {\n    peerRef.current.createOffer().then(offer => {\n      return peerRef.current.setLocalDescription(offer);\n    }).then(() => {\n      const payload = {\n        target: userID,\n        caller: socketRef.current.id,\n        sdp: peerRef.current.localDescription\n      };\n      socketRef.current.emit(\"offer\", payload);\n    }).catch(e => console.log(e));\n  }\n\n  function handleRecieveCall(incoming) {\n    peerRef.current = createPeer();\n    const desc = new RTCSessionDescription(incoming.sdp);\n    peerRef.current.setRemoteDescription(desc).then(() => {\n      userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n    }).then(() => {\n      return peerRef.current.createAnswer();\n    }).then(answer => {\n      return peerRef.current.setLocalDescription(answer);\n    }).then(() => {\n      const payload = {\n        target: incoming.caller,\n        caller: socketRef.current.id,\n        sdp: peerRef.current.localDescription\n      };\n      socketRef.current.emit(\"answer\", payload);\n    });\n  }\n\n  function handleAnswer(message) {\n    const desc = new RTCSessionDescription(message.sdp);\n    peerRef.current.setRemoteDescription(desc).catch(e => console.log(e));\n  }\n\n  function handleICECandidateEvent(e) {\n    if (e.candidate) {\n      const payload = {\n        target: otherUser.current,\n        candidate: e.candidate\n      };\n      socketRef.current.emit(\"ice-candidate\", payload);\n    }\n  }\n\n  function handleNewICECandidateMsg(incoming) {\n    const candidate = new RTCIceCandidate(incoming);\n    peerRef.current.addIceCandidate(candidate).catch(e => console.log(e));\n  }\n\n  function handleTrackEvent(e) {\n    partnerVideo.current.srcObject = e.streams[0];\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"social-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SRLWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4 col-xs-12 text-center\",\n    id: \"column1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-behance fa-3x\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 41\n    }\n  }, \"Display Name\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 38\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"video\", {\n    className: \"partner\",\n    width: \"300px\",\n    autoPlay: true,\n    ref: partnerVideo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 37\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"video\", {\n    width: \"300px\",\n    autoPlay: true,\n    ref: userVideo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-15 col-xs-4  text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-twitter fa-3x\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 24\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 28\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(StreamApp, {\n    apiKey: \"du8he7epvp94\",\n    appId: \"45206\",\n    token: \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiNDE3YWNkNzYtOWNhZC00ZTFiLWI0ZTQtMTRiMmI4OGVmM2ZjIn0.9fYJ_FQrPqypH7cIWjgUEq-tPZsgVzVXOxg0eQ62b5A\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(StatusUpdateForm, {\n    feedGroup: \"timeline\",\n    userId: \"f94c550a-4542-479b-857a-2e4b7dabd2c1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(NotificationDropdown, {\n    className: \"timeline\",\n    notify: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 32\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 24\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4 col-xs-12 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"holder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-pinterest-p fa-3x\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 24\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 24\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row title\",\n    style: {\n      marginBottom: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 26\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row title\",\n    style: {\n      marginBottom: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 26\n    }\n  }, /*#__PURE__*/React.createElement(Carousel, {\n    style: {\n      'width': '550px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(Carousel.Item, {\n    style: {\n      'height': \"350px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(StreamApp, {\n    apiKey: \"du8he7epvp94\",\n    appId: \"45206\",\n    token: \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiNDE3YWNkNzYtOWNhZC00ZTFiLWI0ZTQtMTRiMmI4OGVmM2ZjIn0.9fYJ_FQrPqypH7cIWjgUEq-tPZsgVzVXOxg0eQ62b5A\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FlatFeed, {\n    notify: true,\n    options: {\n      reactions: {\n        recent: true\n      }\n    },\n    Activity: props => /*#__PURE__*/React.createElement(Activity, Object.assign({}, props, {\n      Footer: () => /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          padding: '8px 16px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(LikeButton, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(CommentField, {\n        activity: props.activity,\n        onAddReaction: props.onAddReaction,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(CommentList, {\n        activityId: props.activity.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Carousel.Caption, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 40\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 42\n    }\n  }, \"OverTime\"))), /*#__PURE__*/React.createElement(Carousel.Item, {\n    style: {\n      'height': \"350px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 42\n    }\n  }, /*#__PURE__*/React.createElement(Carousel.Caption, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }\n  }, \"OverTime\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 24\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4 col-xs-12 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-facebook fa-3x\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 24\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 28\n    }\n  }, \"Facebook\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 28\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 8,\n    sm: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 24\n    }\n  }))), \"  \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 24\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 30\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 36\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4 col-xs-12 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-github fa-3x\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 24\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 28\n    }\n  }, \"Github\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(StreamApp, {\n    apiKey: \"fpwesm5u2evu\",\n    appId: \"64527\",\n    token: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZXhhbXBsZS11c2VyIn0.cM6zFlcQ68qP2LLz-Y6fPeNglfOuwB2aeBUaQild1wg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(StatusUpdateForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(FlatFeed, {\n    feedGroup: \"user\",\n    options: {\n      withRecentReactions: true,\n      limit: 10,\n      withOwnChildren: true\n    },\n    notify: true,\n    Activity: props => {\n      const hasSubActivity = Boolean(props.activity.object.object);\n      const activity = hasSubActivity ? props.activity.object : props.activity;\n      const activityProps = props;\n      return /*#__PURE__*/React.createElement(Activity, Object.assign({}, props, {\n        activity: activity,\n        HeaderRight: () => /*#__PURE__*/React.createElement(Dropdown, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          onClick: () => {\n            props.onRemoveActivity(props.activity.id);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 17\n          }\n        }, \"Remove\"))),\n        Footer: () => /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(ActivityFooter, Object.assign({}, props, {\n          activity: activity,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }\n        })), /*#__PURE__*/React.createElement(CommentField, {\n          activity: activity,\n          onAddReaction: props.onAddReaction,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(CommentList, {\n          activityId: activity.id,\n          activityPath: hasSubActivity ? [props.activity.id, 'object'] : null,\n          CommentItem: props => /*#__PURE__*/React.createElement(React.Fragment, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(CommentItem, Object.assign({}, props, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 21\n            }\n          })), /*#__PURE__*/React.createElement(LikeButton, Object.assign({\n            reaction: props.comment\n          }, activityProps, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 21\n            }\n          }))),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 9\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 3\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 24\n    }\n  }))))));\n};\n\nexport default Room;","map":{"version":3,"sources":["/Users/batson24/Desktop/Date_Site/frontend/src/Routes/Room.js"],"names":["React","useRef","useEffect","io","Carousel","SRLWrapper","StreamApp","NotificationDropdown","FlatFeed","Activity","LikeButton","CommentField","CommentList","StatusUpdateForm","Dropdown","Link","ActivityFooter","CommentItem","Grid","Room","props","userVideo","partnerVideo","peerRef","socketRef","otherUser","userStream","navigator","mediaDevices","getUserMedia","audio","video","then","stream","current","srcObject","connect","emit","match","params","roomID","on","userID","callUser","handleRecieveCall","handleAnswer","handleNewICECandidateMsg","createPeer","getTracks","forEach","track","addTrack","peer","RTCPeerConnection","iceServers","urls","credential","username","onicecandidate","handleICECandidateEvent","ontrack","handleTrackEvent","onnegotiationneeded","handleNegotiationNeededEvent","createOffer","offer","setLocalDescription","payload","target","caller","id","sdp","localDescription","catch","e","console","log","incoming","desc","RTCSessionDescription","setRemoteDescription","createAnswer","answer","message","candidate","RTCIceCandidate","addIceCandidate","streams","marginBottom","reactions","recent","padding","activity","onAddReaction","withRecentReactions","limit","withOwnChildren","hasSubActivity","Boolean","object","activityProps","onRemoveActivity","comment"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport Carousel from 'react-bootstrap/Carousel'  \nimport {SRLWrapper} from \"simple-react-lightbox\";\nimport { StreamApp, NotificationDropdown, FlatFeed, Activity, LikeButton, CommentField,CommentList, StatusUpdateForm, Dropdown, Link, ActivityFooter, CommentItem } from 'react-activity-feed';\nimport Grid from '@material-ui/core/Grid';\n\nconst Room = (props) => {\n    const userVideo = useRef();\n    const partnerVideo = useRef();\n    const peerRef = useRef();\n    const socketRef = useRef();\n    const otherUser = useRef();\n    const userStream = useRef();\n\n    useEffect(() => {\n        navigator.mediaDevices.getUserMedia({ audio: true, video: true }).then(stream => {\n            userVideo.current.srcObject = stream;\n            userStream.current = stream;\n\n            socketRef.current = io.connect(\"/\");\n            socketRef.current.emit(\"join room\", props.match.params.roomID);\n\n            socketRef.current.on('other user', userID => {\n                callUser(userID);\n                otherUser.current = userID;\n            });\n\n            socketRef.current.on(\"user joined\", userID => {\n                otherUser.current = userID;\n            });\n\n            socketRef.current.on(\"offer\", handleRecieveCall);\n\n            socketRef.current.on(\"answer\", handleAnswer);\n\n            socketRef.current.on(\"ice-candidate\", handleNewICECandidateMsg);\n        });\n\n    }, []);\n\n    function callUser(userID) {\n        peerRef.current = createPeer(userID);\n        userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n    }\n\n    function createPeer(userID) {\n        const peer = new RTCPeerConnection({\n            iceServers: [\n                {\n                    urls: \"stun:stun.stunprotocol.org\"\n                },\n                {\n                    urls: 'turn:numb.viagenie.ca',\n                    credential: 'batson',\n                    username: 'webrtc@live.com'\n                },\n            ]\n        });\n\n        peer.onicecandidate = handleICECandidateEvent;\n        peer.ontrack = handleTrackEvent;\n        peer.onnegotiationneeded = () => handleNegotiationNeededEvent(userID);\n\n        return peer;\n    }\n\n    function handleNegotiationNeededEvent(userID) {\n        peerRef.current.createOffer().then(offer => {\n            return peerRef.current.setLocalDescription(offer);\n        }).then(() => {\n            const payload = {\n                target: userID,\n                caller: socketRef.current.id,\n                sdp: peerRef.current.localDescription\n            };\n            socketRef.current.emit(\"offer\", payload);\n        }).catch(e => console.log(e));\n    }\n\n    function handleRecieveCall(incoming) {\n        peerRef.current = createPeer();\n        const desc = new RTCSessionDescription(incoming.sdp);\n        peerRef.current.setRemoteDescription(desc).then(() => {\n            userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n        }).then(() => {\n            return peerRef.current.createAnswer();\n        }).then(answer => {\n            return peerRef.current.setLocalDescription(answer);\n        }).then(() => {\n            const payload = {\n                target: incoming.caller,\n                caller: socketRef.current.id,\n                sdp: peerRef.current.localDescription\n            }\n            socketRef.current.emit(\"answer\", payload);\n        })\n    }\n\n    function handleAnswer(message) {\n        const desc = new RTCSessionDescription(message.sdp);\n        peerRef.current.setRemoteDescription(desc).catch(e => console.log(e));\n    }\n\n    function handleICECandidateEvent(e) {\n        if (e.candidate) {\n            const payload = {\n                target: otherUser.current,\n                candidate: e.candidate,\n            }\n            socketRef.current.emit(\"ice-candidate\", payload);\n        }\n    }\n\n    function handleNewICECandidateMsg(incoming) {\n        const candidate = new RTCIceCandidate(incoming);\n\n        peerRef.current.addIceCandidate(candidate)\n            .catch(e => console.log(e));\n    }\n\n    function handleTrackEvent(e) {\n        partnerVideo.current.srcObject = e.streams[0];\n    };\n\n    return (\n\n        <div className=\"social-box\">\n                    <SRLWrapper>\n                \n                     <div className=\"row1\">\n                         \n                            <div className=\"col-lg-4 col-xs-12 text-center\" id='column1'>\n                                <div className='view'>\n                                    <i className=\"fa fa-behance fa-3x\" aria-hidden=\"true\"></i>\n                                    <div className=\"box-title\">\n                                        <h3>Display Name</h3>\n                                    </div>\n                                   \n                                    <div className=\"box-text\">\n                                     <span> <video className='partner' width='300px' autoPlay ref={partnerVideo} /></span>  \n                                    <span>  <video width='300px' autoPlay ref={userVideo} />\n                                     \n                             </span>\n                                    </div>\n                                    <div className=\"box-btn\">\n                                       \n                                    </div>\n                                 </div>\n                            </div>\t \n                            \n                            <div className=\"col-lg-15 col-xs-4  text-center\">\n                   <div className=\"box\">\n                       <i className=\"fa fa-twitter fa-3x\" aria-hidden=\"true\"></i>\n                       <div className=\"box-title\">\n                           <h3></h3>\n                       </div>\n                       <div className=\"box-text\">\n                           <span>\n                                <StreamApp\n                                apiKey=\"du8he7epvp94\"\n                                appId=\"45206\"\n                                token=\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiNDE3YWNkNzYtOWNhZC00ZTFiLWI0ZTQtMTRiMmI4OGVmM2ZjIn0.9fYJ_FQrPqypH7cIWjgUEq-tPZsgVzVXOxg0eQ62b5A\">\n                                <StatusUpdateForm\n          feedGroup=\"timeline\"\n          userId=\"f94c550a-4542-479b-857a-2e4b7dabd2c1\" />\n                               <NotificationDropdown className='timeline' notify />\n                               \n                               \n                               </StreamApp> \n                               </span>\n                       </div>\n                       <div className=\"box-btn\">\n                       \n                       </div>\n                    </div>\n               </div>\t \n               </div>\n\n               <div className=\"row2\">\n               <div className=\"col-lg-4 col-xs-12 text-center\" >\n                   <div className=\"holder\"  >\n                       <i className=\"fa fa-pinterest-p fa-3x\" aria-hidden=\"true\"></i>\n                       <div className=\"box-title\">\n                       \n                       </div>\n                       <div className=\"box-text\">\n                       <div>\n                 <div className='container-fluid'  >\n                         <div className=\"row title\" style={{marginBottom: \"20px\" }} >\n                                 \n                                 </div></div>  \n\n                  <div className='container-fluid' >  \n                          <div className=\"row title\" style={{ marginBottom: \"20px\" }} >\n                                 </div></div>  \n\n                         <div className='container-fluid' >    \n                         \n                           <Carousel   style={{'width':'550px'}}>  \n                        \n\n                                 <Carousel.Item style={{'height':\"350px\"}}>  \n\n                                 \n      <StreamApp\n        apiKey=\"du8he7epvp94\"\n        appId=\"45206\"\n        token=\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiNDE3YWNkNzYtOWNhZC00ZTFiLWI0ZTQtMTRiMmI4OGVmM2ZjIn0.9fYJ_FQrPqypH7cIWjgUEq-tPZsgVzVXOxg0eQ62b5A\">\n        \n       \n\n        <FlatFeed notify\n        options={{reactions: {recent:true} }}\n        Activity={(props) =>\n              <Activity {...props}\n                Footer={() => (\n                  <div style={ {padding: '8px 16px'} }>\n                    <LikeButton {...props} />\n                    <CommentField\n                      activity={props.activity}\n                      onAddReaction={props.onAddReaction} />\n                    <CommentList activityId={props.activity.id} />\n                  </div>\n\n                  \n                )}\n              />\n            }\n          />\n\n      </StreamApp>\n\n                                       <Carousel.Caption>  \n                                         <h3>OverTime</h3>  \n                                             </Carousel.Caption>  \n\n                                         </Carousel.Item>  \n                                        \n                                         <Carousel.Item style={{'height':\"350px\"}}>  \n\n                                      \n\n      <Carousel.Caption>  \n        <h3>OverTime</h3>  \n            </Carousel.Caption>  \n\n        </Carousel.Item>  \n                                          \n\n\n                                        </Carousel>   \n\n                                </div>  \n\n                        </div>  \n\n                           \n                       </div>\n                       <div className=\"box-btn\">\n                         \n                       </div>\n                    </div>\n               </div>\t \n               </div>\n\n               <div className=\"row3\">\n               \n                <div className=\"col-lg-4 col-xs-12 text-center\">\n                   <div className=\"box\">\n                       <i className=\"fa fa-facebook fa-3x\" aria-hidden=\"true\"></i>\n                       <div className=\"box-title\">\n                           <h3>Facebook</h3>\n                       </div>\n                       <div className=\"box-text\">\n                           <span> <Grid container spacing={8}>\n            <Grid item xs={8} sm={7}>\n             \n            </Grid>\n            <Grid item xs={6} sm={5}>\n             \n            </Grid>\n          </Grid></span> \n                       </div>\n                       <div className=\"box-btn\">\n                         \n                       </div>\n                    </div>\n               </div>\t <br/> <br/> <br/><br/>\n              \n               \n                \n               \n                <div className=\"col-lg-4 col-xs-12 text-center\">\n                   <div className=\"box\">\n                       <i className=\"fa fa-github fa-3x\" aria-hidden=\"true\"></i>\n                       <div className=\"box-title\">\n                           <h3>Github</h3>\n                       </div>\n                       <div className=\"box-text\">\n                        <StreamApp\n  apiKey=\"fpwesm5u2evu\"\n  appId=\"64527\"\n  token=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZXhhbXBsZS11c2VyIn0.cM6zFlcQ68qP2LLz-Y6fPeNglfOuwB2aeBUaQild1wg\"\n>\n  <StatusUpdateForm />\n  <FlatFeed\n    feedGroup=\"user\"\n    options={{ withRecentReactions: true, limit: 10, withOwnChildren: true }}\n    notify\n    Activity={(props) => {\n      const hasSubActivity = Boolean(props.activity.object.object);\n      const activity = hasSubActivity ? props.activity.object : props.activity;\n      const activityProps = props;\n      return (\n        <Activity\n          {...props}\n          activity={activity}\n          HeaderRight={() => (\n            <Dropdown>\n              <div>\n                <Link\n                  onClick={() => {\n                    props.onRemoveActivity(props.activity.id);\n                  }}\n                >\n                  Remove\n                </Link>\n              </div>\n            </Dropdown>\n          )}\n          Footer={() => (\n            <React.Fragment>\n              <ActivityFooter {...props} activity={activity} />\n              <CommentField\n                activity={activity}\n                onAddReaction={props.onAddReaction}\n              />\n              <CommentList\n                activityId={activity.id}\n                activityPath={\n                  hasSubActivity ? [props.activity.id, 'object'] : null\n                }\n                CommentItem={(props) => (\n                  <React.Fragment>\n                    <CommentItem {...props} />\n                    <LikeButton reaction={props.comment} {...activityProps} />\n                  </React.Fragment>\n                )}\n              />\n            </React.Fragment>\n          )}\n        />\n      );\n    }}\n  />\n</StreamApp> \n                       </div>\n                       <div className=\"box-btn\">\n                          \n                       </div>\n                    </div>\n               </div>\n       \n               \n   </div> \n   </SRLWrapper>\n</div>\n   \n            \n        )\n};\n\nexport default Room;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"// import React, { useRef, useEffect } from \"react\";\n// import io from \"socket.io-client\";\n// const Room = (props) => {\n//     const userVideo = useRef();\n//     const partnerVideo = useRef();\n//     const peerRef = useRef();\n//     const socketRef = useRef();\n//     const otherUser = useRef();\n//     const userStream = useRef();\n//     useEffect(() => {\n//         navigator.mediaDevices.getUserMedia({ audio: true, video: true }).then(stream => {\n//             userVideo.current.srcObject = stream;\n//             userStream.current = stream;\n//             socketRef.current = io.connect(\"/\");\n//             socketRef.current.emit(\"join room\", props.match.params.roomID);\n//             socketRef.current.on('other user', userID => {\n//                 callUser(userID);\n//                 otherUser.current = userID;\n//             });\n//             socketRef.current.on(\"user joined\", userID => {\n//                 otherUser.current = userID;\n//             });\n//             socketRef.current.on(\"offer\", handleRecieveCall);\n//             socketRef.current.on(\"answer\", handleAnswer);\n//             socketRef.current.on(\"ice-candidate\", handleNewICECandidateMsg);\n//         });\n//     }, []);\n//     function callUser(userID) {\n//         peerRef.current = createPeer(userID);\n//         userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n//     }\n//     function createPeer(userID) {\n//         const peer = new RTCPeerConnection({\n//             iceServers: [\n//                 {\n//                     urls: \"stun:stun.stunprotocol.org\"\n//                 },\n//                 {\n//                     urls: 'turn:numb.viagenie.ca',\n//                     credential: 'batson',\n//                     username: 'webrtc@live.com'\n//                 },\n//             ]\n//         });\n//         peer.onicecandidate = handleICECandidateEvent;\n//         peer.ontrack = handleTrackEvent;\n//         peer.onnegotiationneeded = () => handleNegotiationNeededEvent(userID);\n//         return peer;\n//     }\n//     function handleNegotiationNeededEvent(userID) {\n//         peerRef.current.createOffer().then(offer => {\n//             return peerRef.current.setLocalDescription(offer);\n//         }).then(() => {\n//             const payload = {\n//                 target: userID,\n//                 caller: socketRef.current.id,\n//                 sdp: peerRef.current.localDescription\n//             };\n//             socketRef.current.emit(\"offer\", payload);\n//         }).catch(e => console.log(e));\n//     }\n//     function handleRecieveCall(incoming) {\n//         peerRef.current = createPeer();\n//         const desc = new RTCSessionDescription(incoming.sdp);\n//         peerRef.current.setRemoteDescription(desc).then(() => {\n//             userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n//         }).then(() => {\n//             return peerRef.current.createAnswer();\n//         }).then(answer => {\n//             return peerRef.current.setLocalDescription(answer);\n//         }).then(() => {\n//             const payload = {\n//                 target: incoming.caller,\n//                 caller: socketRef.current.id,\n//                 sdp: peerRef.current.localDescription\n//             }\n//             socketRef.current.emit(\"answer\", payload);\n//         })\n//     }\n//     function handleAnswer(message) {\n//         const desc = new RTCSessionDescription(message.sdp);\n//         peerRef.current.setRemoteDescription(desc).catch(e => console.log(e));\n//     }\n//     function handleICECandidateEvent(e) {\n//         if (e.candidate) {\n//             const payload = {\n//                 target: otherUser.current,\n//                 candidate: e.candidate,\n//             }\n//             socketRef.current.emit(\"ice-candidate\", payload);\n//         }\n//     }\n//     function handleNewICECandidateMsg(incoming) {\n//         const candidate = new RTCIceCandidate(incoming);\n//         peerRef.current.addIceCandidate(candidate)\n//             .catch(e => console.log(e));\n//     }\n//     function handleTrackEvent(e) {\n//         partnerVideo.current.srcObject = e.streams[0];\n//     };\n//     return (\n//         <div className=\"social-box\">\n//                      <div className=\"row1\">\n//                             <div className=\"col-lg-4 col-xs-12 text-center\" id='column1'>\n//                                 <div className='view'>\n//                                     <i className=\"fa fa-behance fa-3x\" aria-hidden=\"true\"></i>\n//                                     <div className=\"box-title\">\n//                                         <h3>Display Name</h3>\n//                                     </div>\n//                                     <div className=\"box-text\">\n//                                     <span> <video className='partner' width='300px' autoPlay ref={partnerVideo} /></span> \n//                                     <span>  <video width='300px' autoPlay ref={userVideo} />\n//                              </span>\n//                                     </div>\n//                                     <div className=\"box-btn\">\n//                                     </div>\n//                                  </div>\n//                             </div>\t \n//                              <div className=\"col-lg-4 col-xs-12  text-center\">\n//                                 <div className=\"box\">\n//                                     <i className=\"fa fa-twitter fa-3x\" aria-hidden=\"true\"></i>\n//                                     <div className=\"box-title\">\n//                                         <h3>Twitter</h3>\n//                                     </div>\n//                                     <div className=\"box-text\">\n//                                         <span>Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.</span>\n//                                     </div>\n//                                     <div className=\"box-btn\">\n//                                     </div>\n//                                  </div>\n//                             </div>\t \n//                             </div>\n//                             <div className=\"row2\">\n//                             <div className=\"col-lg-4 col-xs-12 text-center\" style={{bacgroundColor:'black'}}>\n//                                 <div className=\"holder\" style={{bacgroundColor:'black'}} >\n//                                     <i className=\"fa fa-pinterest-p fa-3x\" aria-hidden=\"true\"></i>\n//                                     <div className=\"box-title\">\n//                                         <h3>Pinterest</h3>\n//                                     </div>\n//                                     <div className=\"box-text\">\n//                                         <span>Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.</span>\n//                                     </div>\n//                                     <div className=\"box-btn\">\n//                                     </div>\n//                                  </div>\n//                             </div>\t \n//                             </div>\n//                             <div className=\"row3\">\n//                              <div className=\"col-lg-4 col-xs-12 text-center\">\n//                                 <div className=\"box\">\n//                                     <i className=\"fa fa-facebook fa-3x\" aria-hidden=\"true\"></i>\n//                                     <div className=\"box-title\">\n//                                         <h3>Facebook</h3>\n//                                     </div>\n//                                     <div className=\"box-text\">\n//                                         <span>Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.</span>\n//                                     </div>\n//                                     <div className=\"box-btn\">\n//                                     </div>\n//                                  </div>\n//                             </div>\t <br/> <br/> <br/><br/>\n//                              <div className=\"col-lg-4 col-xs-12 text-center\">\n//                                 <div className=\"box\">\n//                                     <i className=\"fa fa-github fa-3x\" aria-hidden=\"true\"></i>\n//                                     <div className=\"box-title\">\n//                                         <h3>Github</h3>\n//                                     </div>\n//                                     <div className=\"box-text\">\n//                                         <span>Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.</span>\n//                                     </div>\n//                                     <div className=\"box-btn\">\n//                                     </div>\n//                                  </div>\n//                             </div>\n//                     </div>\t\t\n//             </div>\n//         )\n// };\n// export default Room;","map":{"version":3,"sources":["/Users/batson24/Desktop/Date_Site/frontend/src/Routes/Room.js"],"names":[],"mappings":"AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAGA;AACA;AAEA","sourcesContent":["// import React, { useRef, useEffect } from \"react\";\n// import io from \"socket.io-client\";\n\n// const Room = (props) => {\n//     const userVideo = useRef();\n//     const partnerVideo = useRef();\n//     const peerRef = useRef();\n//     const socketRef = useRef();\n//     const otherUser = useRef();\n//     const userStream = useRef();\n\n//     useEffect(() => {\n//         navigator.mediaDevices.getUserMedia({ audio: true, video: true }).then(stream => {\n//             userVideo.current.srcObject = stream;\n//             userStream.current = stream;\n\n//             socketRef.current = io.connect(\"/\");\n//             socketRef.current.emit(\"join room\", props.match.params.roomID);\n\n//             socketRef.current.on('other user', userID => {\n//                 callUser(userID);\n//                 otherUser.current = userID;\n//             });\n\n//             socketRef.current.on(\"user joined\", userID => {\n//                 otherUser.current = userID;\n//             });\n\n//             socketRef.current.on(\"offer\", handleRecieveCall);\n\n//             socketRef.current.on(\"answer\", handleAnswer);\n\n//             socketRef.current.on(\"ice-candidate\", handleNewICECandidateMsg);\n//         });\n\n//     }, []);\n\n//     function callUser(userID) {\n//         peerRef.current = createPeer(userID);\n//         userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n//     }\n\n//     function createPeer(userID) {\n//         const peer = new RTCPeerConnection({\n//             iceServers: [\n//                 {\n//                     urls: \"stun:stun.stunprotocol.org\"\n//                 },\n//                 {\n//                     urls: 'turn:numb.viagenie.ca',\n//                     credential: 'batson',\n//                     username: 'webrtc@live.com'\n//                 },\n//             ]\n//         });\n\n//         peer.onicecandidate = handleICECandidateEvent;\n//         peer.ontrack = handleTrackEvent;\n//         peer.onnegotiationneeded = () => handleNegotiationNeededEvent(userID);\n\n//         return peer;\n//     }\n\n//     function handleNegotiationNeededEvent(userID) {\n//         peerRef.current.createOffer().then(offer => {\n//             return peerRef.current.setLocalDescription(offer);\n//         }).then(() => {\n//             const payload = {\n//                 target: userID,\n//                 caller: socketRef.current.id,\n//                 sdp: peerRef.current.localDescription\n//             };\n//             socketRef.current.emit(\"offer\", payload);\n//         }).catch(e => console.log(e));\n//     }\n\n//     function handleRecieveCall(incoming) {\n//         peerRef.current = createPeer();\n//         const desc = new RTCSessionDescription(incoming.sdp);\n//         peerRef.current.setRemoteDescription(desc).then(() => {\n//             userStream.current.getTracks().forEach(track => peerRef.current.addTrack(track, userStream.current));\n//         }).then(() => {\n//             return peerRef.current.createAnswer();\n//         }).then(answer => {\n//             return peerRef.current.setLocalDescription(answer);\n//         }).then(() => {\n//             const payload = {\n//                 target: incoming.caller,\n//                 caller: socketRef.current.id,\n//                 sdp: peerRef.current.localDescription\n//             }\n//             socketRef.current.emit(\"answer\", payload);\n//         })\n//     }\n\n//     function handleAnswer(message) {\n//         const desc = new RTCSessionDescription(message.sdp);\n//         peerRef.current.setRemoteDescription(desc).catch(e => console.log(e));\n//     }\n\n//     function handleICECandidateEvent(e) {\n//         if (e.candidate) {\n//             const payload = {\n//                 target: otherUser.current,\n//                 candidate: e.candidate,\n//             }\n//             socketRef.current.emit(\"ice-candidate\", payload);\n//         }\n//     }\n\n//     function handleNewICECandidateMsg(incoming) {\n//         const candidate = new RTCIceCandidate(incoming);\n\n//         peerRef.current.addIceCandidate(candidate)\n//             .catch(e => console.log(e));\n//     }\n\n//     function handleTrackEvent(e) {\n//         partnerVideo.current.srcObject = e.streams[0];\n//     };\n\n//     return (\n\n//         <div className=\"social-box\">\n                    \n                \n//                      <div className=\"row1\">\n                         \n//                             <div className=\"col-lg-4 col-xs-12 text-center\" id='column1'>\n//                                 <div className='view'>\n//                                     <i className=\"fa fa-behance fa-3x\" aria-hidden=\"true\"></i>\n//                                     <div className=\"box-title\">\n//                                         <h3>Display Name</h3>\n//                                     </div>\n                                   \n//                                     <div className=\"box-text\">\n//                                     <span> <video className='partner' width='300px' autoPlay ref={partnerVideo} /></span> \n//                                     <span>  <video width='300px' autoPlay ref={userVideo} />\n                                     \n//                              </span>\n//                                     </div>\n//                                     <div className=\"box-btn\">\n                                       \n//                                     </div>\n//                                  </div>\n//                             </div>\t \n                            \n//                              <div className=\"col-lg-4 col-xs-12  text-center\">\n//                                 <div className=\"box\">\n//                                     <i className=\"fa fa-twitter fa-3x\" aria-hidden=\"true\"></i>\n//                                     <div className=\"box-title\">\n//                                         <h3>Twitter</h3>\n//                                     </div>\n//                                     <div className=\"box-text\">\n//                                         <span>Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.</span>\n//                                     </div>\n//                                     <div className=\"box-btn\">\n                                       \n//                                     </div>\n//                                  </div>\n//                             </div>\t \n//                             </div>\n\n//                             <div className=\"row2\">\n//                             <div className=\"col-lg-4 col-xs-12 text-center\" style={{bacgroundColor:'black'}}>\n//                                 <div className=\"holder\" style={{bacgroundColor:'black'}} >\n//                                     <i className=\"fa fa-pinterest-p fa-3x\" aria-hidden=\"true\"></i>\n//                                     <div className=\"box-title\">\n//                                         <h3>Pinterest</h3>\n//                                     </div>\n//                                     <div className=\"box-text\">\n//                                         <span>Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.</span>\n//                                     </div>\n//                                     <div className=\"box-btn\">\n                                       \n//                                     </div>\n//                                  </div>\n//                             </div>\t \n//                             </div>\n                      \n//                             <div className=\"row3\">\n                            \n//                              <div className=\"col-lg-4 col-xs-12 text-center\">\n//                                 <div className=\"box\">\n//                                     <i className=\"fa fa-facebook fa-3x\" aria-hidden=\"true\"></i>\n//                                     <div className=\"box-title\">\n//                                         <h3>Facebook</h3>\n//                                     </div>\n//                                     <div className=\"box-text\">\n//                                         <span>Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.</span>\n//                                     </div>\n//                                     <div className=\"box-btn\">\n                                       \n//                                     </div>\n//                                  </div>\n//                             </div>\t <br/> <br/> <br/><br/>\n                           \n                            \n                             \n                            \n//                              <div className=\"col-lg-4 col-xs-12 text-center\">\n//                                 <div className=\"box\">\n//                                     <i className=\"fa fa-github fa-3x\" aria-hidden=\"true\"></i>\n//                                     <div className=\"box-title\">\n//                                         <h3>Github</h3>\n//                                     </div>\n//                                     <div className=\"box-text\">\n//                                         <span>Lorem ipsum dolor sit amet, id quo eruditi eloquentiam. Assum decore te sed. Elitr scripta ocurreret qui ad.</span>\n//                                     </div>\n//                                     <div className=\"box-btn\">\n                                       \n//                                     </div>\n//                                  </div>\n//                             </div>\n                    \n//                     </div>\t\t\n               \n//             </div>\n   \n            \n//         )\n// };\n\n// export default Room;"]},"metadata":{},"sourceType":"module"}